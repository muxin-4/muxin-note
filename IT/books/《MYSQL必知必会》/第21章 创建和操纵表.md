# 第21章 创建和操纵表
>  本章讲授表的创建、更改和删除的基本知识。

## 21.1 创建表

 一般有两种创建表的方法：

-  使用具有交互式创建和管理表的工具（如第2 章讨论的工具）；
-  表也可以直接用MySQL 语句操纵(工具实际上使用的也是MySQL语句)

### 21.1.1 表创建基础

-  新表的名字，在关键字CREATE TABLE 之后给出；
-  表列的名字和定义，用逗号分隔。

```
CREATE TABLE customers
(
	cust_id       int NOT    NULL AUTO_INCREMENT,
	cust_name     char(50)   NOT NULL,
	cust_address  char(50)   NULL,
	cust_city     char(50)   NULL,
	cust_state    char(5)    NULL,
	cust_zip      char(10)   NULL,
	cust_country  char(50)   NULL,
	cust_contact  char(50)   NULL,
	cust_email    char(255)  NULL,
	PRIMARY KEY(cust_id)
)ENGINE = InnoDB;
```

表的主键可以在创建表时用PRIMARY KEY 关键字指定。这里，列cust_id 指定作为主键列。整条语句由右圆括号后的分号结束。

## 21.1.2 使用NULL值

第6 章中说过，NULL 值就是没有值或缺值。允许NULL 值的列也允许在插入行时不给出该列的值。不允许NULL 值的列不接受该列没有值的行，换句话说，在插入或更新行时，该列必须有值。

### 21.1.3 引擎类型

你可能已经注意到，迄今为止使用的CREATE TABLE 语句全都以ENGINE=InnoDB 语句结束。

以下是几个需要知道的引擎：

- InnoDB是一个可靠的事务处理引擎（参见第26章），它不支持全文本搜索；
- MEMORY在功能等同于MyISAM，但由于数据存储在内存（不是磁盘中，速度很快（特别适合于临时表）；
- MyISAM是一个性能极高的引擎，它支持全文本搜索（参见第18章），但不支持事务处理。

## 21.2 更新表

为更新表定义，可使用ALTER TABLE 语句。但是，理想状态下，当表中存储数据以后，该表就不应该再被更新。在表的设计过程中需要花费大量时间来考虑，以便后期不对该表进行大的改动。

为了使用ALTER TABLE 更改表结构，必须给出下面的信息：

-  在ALTER TABLE 之后给出要更改的表名（该表必须存在，否则将出错）；
-  所做更改的列表。



**注**

**小心使用ALTER TABLE**

使用ALTER TABLE 要极为小心，应该在进行改动前做一个完整的备份（模式和数据的备份）。数据库表的更改不能撤销，如果增加了不需要的列，可能不能删除它们。类似地，如果删除了不应该删除的列，可能会丢失该列中的所有数据。

## 21.3 删除表

删除表（删除整个表而不是其内容）非常简单，使用DROP TABLE 语句即可：

```
DROP TABLE customers2;
```

这条语句删除customers 2 表（假设它存在）。删除表没有确认，也不能撤销，执行这条语句将永久删除该表。

## 21.4 重命名表

使用RENAME TABLE 语句可以重命名一个表：

```
RENAME TABLE customers TO customers;
```

RENAME TABLE所做的仅是重命名一个表。可以使用下面的语句对多个表重命名：

```
RENAME TABLE backup_customers TO customers,
			 backup_vendors TO vendors,
			 backup_products TO products;
```















































